(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{216:function(e,a,t){"use strict";t.r(a);var n,l=t(0),r=t.n(l),c=t(64),s=t.n(c),i=(t(72),t(10)),o=t(11),m=t(13),d=t(12),u=t(14),p=t(32),g=function(e){var a=e.data,t={labels:a.map(function(e){return e.name}),datasets:[{label:"\u10ee\u10db\u10d4\u10d1\u10d8\u10e1 \u10e0\u10d0\u10dd\u10d3\u10d4\u10dc\u10dd\u10d1\u10d0",data:a.map(function(e){return e.voteCount}),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(115,99,169, 0.5)","rgba(16,22,104, 0.5)","rgba(185,198,1, 0.5)","rgba(201,76,94, 0.5)","rgba(146,1,255, 0.5)","rgba(63,229,86, 0.5)","rgba(189,20,94, 0.5)","rgba(254,161,206, 0.5)","rgba(149,208,36, 0.5)","rgba(232,110,10, 0.5)","rgba(25,52,132, 0.5)","rgba(102,82,133, 0.5)","rgba(112,190,78, 0.5)","rgba(139,60,230, 0.5)","rgba(65,2,241, 0.5)"]}]};return r.a.createElement("div",{className:"voting-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"main-chart"},r.a.createElement("div",null,r.a.createElement("h5",{className:"center-align header-main"},"\u10e0\u10d4\u10d6\u10e3\u10da\u10e2\u10d0\u10e2\u10d4\u10d1\u10d8"),r.a.createElement(p.b,{data:t,height:450,options:{maintainAspectRatio:!1,legend:{display:!0,position:"bottom"}}})))))},h=function(e){var a=e.data,t={labels:a.map(function(e){return e.name}),datasets:[{label:"\u10ee\u10db\u10d4\u10d1\u10d8\u10e1 \u10e0\u10d0\u10dd\u10d3\u10d4\u10dc\u10dd\u10d1\u10d0",data:a.map(function(e){return e.voteCount}),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(115,99,169, 0.5)","rgba(16,22,104, 0.5)","rgba(185,198,1, 0.5)","rgba(201,76,94, 0.5)","rgba(146,1,255, 0.5)","rgba(63,229,86, 0.5)","rgba(189,20,94, 0.5)","rgba(254,161,206, 0.5)","rgba(149,208,36, 0.5)","rgba(232,110,10, 0.5)","rgba(25,52,132, 0.5)","rgba(102,82,133, 0.5)","rgba(112,190,78, 0.5)","rgba(139,60,230, 0.5)","rgba(65,2,241, 0.5)"]}]};return r.a.createElement("div",{className:"voting-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"main-chart row"},r.a.createElement("h5",{className:"center-align header-main"},"\u10d3\u10d0\u10db\u10d0\u10e2\u10d4\u10d1\u10d8\u10d7\u10d8 \u10e1\u10e2\u10d0\u10e2\u10d8\u10e1\u10e2\u10d8\u10d9\u10d0"),r.a.createElement("div",{className:"col s12 m12"},r.a.createElement(p.a,{data:t,options:{maintainAspectRatio:!0,legend:{display:!0,position:"bottom"}}})))))},b=t(41),f=t(66),E=t.n(f),v=function(e){function a(){var e,t;Object(i.a)(this,a);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={candidateId:"",number:"",gender:"",age:"",value:""},t.handleChange=function(e){t.setState(Object(b.a)({},e.target.name,e.target.value))},t.handleRadioChange=function(e){t.setState(Object(b.a)({},e.target.name,e.target.id))},t.handleSubmit=function(e){e.preventDefault(),n.reset(),t.props.addVote(t.state)},t.recaptchaLoaded=function(){console.log("Google ReCaptcha Loaded!")},t.verifyCallback=function(e){e&&t.setState({value:e})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=this.props.data.map(function(a){return r.a.createElement("p",{key:a.id},r.a.createElement("label",null,r.a.createElement("input",{onClick:e.handleRadioChange,id:a.id,className:"with-gap",name:"candidateId",type:"radio"}),r.a.createElement("span",null,a.name)))});return!!this.props.display&&r.a.createElement("div",{className:"voting-section light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"add-vote"},r.a.createElement("h5",{className:"center-align header-main"},"\u10d3\u10d0\u10d0\u10e4\u10d8\u10e5\u10e1\u10d8\u10e0\u10d4 \u10e8\u10d4\u10dc\u10d8 \u10ee\u10db\u10d0"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{onChange:this.handleChange,placeholder:"+995599123456",name:"number",type:"text",className:"validate"}),r.a.createElement("label",{className:"active"},"\u10e2\u10d4\u10da\u10d4\u10e4\u10dd\u10dc\u10d8\u10e1 \u10dc\u10dd\u10db\u10d4\u10e0\u10d8",r.a.createElement("span",{className:"important"},"*"))),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{onChange:this.handleChange,placeholder:"25",name:"age",type:"text",className:"validate"}),r.a.createElement("label",{className:"active"},"\u10d0\u10e1\u10d0\u10d9\u10d8")),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("p",null,"\u10e1\u10e5\u10d4\u10e1\u10d8"),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{onClick:this.handleRadioChange,id:"male",className:"with-gap",name:"gender",type:"radio"}),r.a.createElement("span",null,"\u10d9\u10d0\u10ea\u10d8"))),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{onClick:this.handleRadioChange,id:"female",className:"with-gap",name:"gender",type:"radio"}),r.a.createElement("span",null,"\u10e5\u10d0\u10da\u10d8")))),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("p",null,"\u10d9\u10d0\u10dc\u10d3\u10d8\u10d3\u10d0\u10e2\u10d8",r.a.createElement("span",{className:"important"},"*")),a),r.a.createElement("div",{className:"col s12 m6 offset-m6"},r.a.createElement(E.a,{sitekey:"6Le4JnYUAAAAAJsF-r7jLHNI9zaMh4Wnuvb565Os",ref:function(e){return n=e},onloadCallback:this.recaptchaLoaded,verifyCallback:this.verifyCallback}))),r.a.createElement("button",{className:"btn main-btn"},"\u10ee\u10db\u10d8\u10e1 \u10d3\u10d0\u10e4\u10d8\u10e5\u10e1\u10d8\u10e0\u10d4\u10d1\u10d0")))))}}]),a}(l.Component),N=function(e){var a=e.modal,t=e.changeModalStatus;return!!a.display&&r.a.createElement("div",{className:"modal open",style:{zIndex:"1003",display:"block",opacity:"1",top:"10%",transform:"scaleX(1), scaleY(1)"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,a.status?"\u10ee\u10db\u10d8\u10e1 \u10db\u10d8\u10ea\u10d4\u10db\u10d0 \u10d3\u10d0\u10e1\u10e0\u10e3\u10da\u10d4\u10d1\u10e3\u10da\u10d8\u10d0":"\u10d3\u10d0\u10e4\u10d8\u10e5\u10e1\u10d8\u10e0\u10d3\u10d0 \u10e8\u10d4\u10ea\u10d3\u10dd\u10db\u10d0"),r.a.createElement("p",null,a.message)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:t,className:"modal-close waves-effect waves-green btn-flat"},"\u10d7\u10d0\u10dc\u10ee\u10db\u10dd\u10d1\u10d0")))},y=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={pin:""},t.handleChange=function(e){t.setState({pin:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.confirmSmsKey(t.state.pin,t.props.link)},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return!!this.props.display&&r.a.createElement("div",{className:"voting-section light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"add-vote"},r.a.createElement("h5",{className:"center-align header-main"},"\u10d3\u10d0\u10d0\u10d3\u10d0\u10e1\u10e2\u10e3\u10e0\u10d4 \u10e8\u10d4\u10dc\u10d8 \u10ee\u10db\u10d8\u10e1 \u10e3\u10dc\u10d8\u10d9\u10d0\u10da\u10e3\u10e0\u10dd\u10d1\u10d0"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("p",{style:{color:"red"}},"\u10e9\u10d5\u10d4\u10dc \u10d2\u10d0\u10db\u10dd\u10d2\u10d8\u10d2\u10d6\u10d0\u10d5\u10dc\u10d4\u10d7 \u10d5\u10d0\u10da\u10d8\u10d3\u10d0\u10ea\u10d8\u10d8\u10e1 \u10d9\u10dd\u10d3\u10d8 \u10d7\u10e5\u10d5\u10d4\u10dc\u10e1 \u10db\u10d8\u10d4\u10e0 \u10db\u10d8\u10d7\u10d8\u10d7\u10d4\u10d1\u10e3\u10da \u10dc\u10dd\u10db\u10d4\u10e0\u10d6\u10d4."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12 m6"},r.a.createElement("input",{onChange:this.handleChange,placeholder:"12345",name:"pin",id:"pin",type:"text",className:"validate"}),r.a.createElement("label",{htmlFor:"pin",className:"active"},"\u10d5\u10d0\u10da\u10d8\u10d3\u10d0\u10ea\u10d8\u10d8\u10e1 \u10d9\u10dd\u10d3\u10d8",r.a.createElement("span",{className:"important"},"*")))),r.a.createElement("button",{className:"btn main-btn"},"\u10d3\u10d0\u10d3\u10d0\u10e1\u10e2\u10e3\u10e0\u10d4\u10d1\u10d0")))))}}]),a}(l.Component),C="https://pollitic.herokuapp.com/api",S="https://pollitic.herokuapp.com/api/vote",k=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={modal:{display:!1,status:!1,message:"\u10d4\u10e1 \u10dc\u10dd\u10db\u10d4\u10e0\u10d8 \u10d4\u10e0\u10d7\u10ee\u10d4\u10da \u10e3\u10d9\u10d5\u10d4 \u10d2\u10d0\u10db\u10dd\u10e7\u10d4\u10dc\u10d4\u10d1\u10e3\u10da\u10d8 \u10d8\u10e5\u10dc\u10d0!"},input:{candidateSelection:!0,smsVerification:!1,link:""}},t.formatNumber=function(e){return"+"!==e[0]?"+"+e:e},t.addVote=function(e){console.log("%cVOTE OBJECT REACT","color: blue; font-size:15px;"),console.log(e);var a=t.formatNumber(e.number);fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({number:a,candidateId:e.candidateId,gender:e.gender,age:e.age,value:e.value})}).then(function(e){return e.json()}).then(function(e){console.log("%cFETCH DATA JSON WITH VOTE OBJ","color: red; font-size:15px;"),console.log(e),"success"===e.status?t.setState({input:{candidateSelection:!1,smsVerification:!0,link:e.data.link}}):t.setState({modal:{display:!0,status:!1,message:e.error}})})},t.confirmSmsKey=function(e,a){console.log("%cPIN, LINK OBJECT REACT","color: blue; font-size:15px;"),console.log({pin:e,link:a}),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:e})}).then(function(e){return e.json()}).then(function(e){console.log("%cFETCH DATA JSON WITH {pin, link} OBJ","color: red; font-size:15px;"),console.log(e),"success"===e.status?fetch(C).then(function(e){return e.json()}).then(function(a){t.setState({modal:{display:!0,status:!0,message:e.data.message},input:{candidateSelection:!1,smsVerification:!1,link:""},apiData:a})}):t.setState({modal:{display:!0,status:!1,message:e.error}})})},t.changeModalStatus=function(){t.setState({modal:{display:!1,status:!1,message:""}})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(C).then(function(e){return e.json()}).then(function(a){e.setState({apiData:a})})}},{key:"render",value:function(){return this.state.apiData?r.a.createElement("div",{className:"App"},r.a.createElement(N,{modal:this.state.modal,changeModalStatus:this.changeModalStatus}),r.a.createElement(g,{data:this.state.apiData.data}),r.a.createElement(v,{display:this.state.input.candidateSelection,addVote:this.addVote,data:this.state.apiData.data,confirmSmsKey:this.confirmSmsKey}),r.a.createElement(y,{display:this.state.input.smsVerification,confirmSmsKey:this.confirmSmsKey,link:this.state.input.link}),r.a.createElement(h,{data:this.state.apiData.data})):r.a.createElement("div",{className:"loader"},"\u10e1\u10d0\u10d8\u10e2\u10d8 \u10d8\u10e2\u10d5\u10d8\u10e0\u10d7\u10d4\u10d1\u10d0...")}}]),a}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},67:function(e,a,t){e.exports=t(216)},72:function(e,a,t){}},[[67,2,1]]]);
//# sourceMappingURL=main.db97cbd2.chunk.js.map